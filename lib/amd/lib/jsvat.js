define(["require","exports","./countries"],function(e,r,n){"use strict";function a(e,r,n){return{value:e||void 0,isValid:Boolean(r),isValidFormat:!!n&&s(e,n.rules.regex).isValid,isSupportedCountry:Boolean(n),country:n?{name:n.name,isoCode:{short:n.codes[0],long:n.codes[1],numeric:n.codes[2]}}:void 0}}Object.defineProperty(r,"__esModule",{value:!0}),r.checkVAT=void 0;const i=[n.australia.name,n.brazil.name,n.norway.name];function c(e,r){for(const o of r)if(function(r,e){e=function(e){return[...e.codes,"Greece"===e.name?"EL":void 0].filter(Boolean)}(e);return 0<e.filter(e=>r.startsWith(e)).length}(e,o)||(n=o.name,i.includes(n)&&e.match(/^\d{2}/)))return{...o};var n}function s(e,r){for(const n of r)if(n.test(e))return{isValid:!0,regex:n};return{isValid:!1,regex:void 0}}r.checkVAT=function(e,r=[]){var n,o,i,t;return e?([n=""]=[e],n=n.toString().toUpperCase().replace(/(\s|-|\.|\/)+/g,""),o=!!((r=c(n,r))&&(t=s(o=n,(i=r).rules.regex)).isValid&&t.regex&&(t=t.regex.exec(o)))&&i.calcFn(t[2]),a(n,o,r)):a(e,!1)}});